<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Valentine</title>
<style>
  :root{
    --bg1:#fff0f6;
    --bg2:#ffe3ee;
    --card1:rgba(255,255,255,.88);
    --card2:rgba(255,255,255,.72);
    --text:#6b3a52;
    --shadow:0 18px 55px rgba(110,45,75,.18);
    --btnShadow:0 12px 30px rgba(110,45,75,.18);
    --yes1:#ffb3d3;
    --yes2:#ff7fb5;
    --no1:#ffffff;
    --no2:#ffe0ee;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color:var(--text);
    background: radial-gradient(1200px 760px at 15% 8%, var(--bg1), var(--bg2)) fixed;
    overflow:hidden;
    -webkit-tap-highlight-color: transparent;
  }

  /* Sparkles */
  .sparkles{
    position:fixed;
    inset:0;
    pointer-events:none;
    overflow:hidden;
    opacity:.78;
    z-index:0;
  }
  .sparkle{
    position:absolute;
    width:10px;height:10px;
    opacity:0;
    filter: blur(.2px);
    animation: sparkleFloat linear infinite;
  }
  .sparkle::before{
    content:"";
    position:absolute; inset:0;
    background: radial-gradient(circle at 35% 35%, rgba(255,255,255,.95), rgba(255,255,255,0) 70%);
    border-radius:50%;
  }
  .sparkle::after{
    content:"";
    position:absolute; inset:-4px;
    background: conic-gradient(from 0deg, rgba(255,255,255,0) 0 40%, rgba(255,255,255,.85) 50%, rgba(255,255,255,0) 60% 100%);
    opacity:.55;
    mask: radial-gradient(circle, #000 45%, transparent 72%);
    border-radius:50%;
  }
  @keyframes sparkleFloat{
    0%{ transform: translate3d(0, 40px, 0) scale(.7); opacity:0; }
    18%{ opacity:.66; }
    75%{ opacity:.58; }
    100%{ transform: translate3d(0, -120vh, 0) scale(1.18); opacity:0; }
  }

  /* Layout */
  .wrap{
    position:relative;
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 22px 16px calc(18px + env(safe-area-inset-bottom));
    z-index:1;
  }

  .card{
    width:min(430px, 92vw);
    background: linear-gradient(180deg, var(--card1), var(--card2));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,.7);
    border-radius: 28px;
    box-shadow: var(--shadow);
    padding: 22px 18px 18px;
    text-align:center;
    position:relative;
    overflow:hidden;
  }

  .bearWrap{
    width: 255px;
    max-width: 66vw;
    margin: 2px auto 10px;
  }

  .question{
    font-size:18px;
    line-height:1.35;
    margin: 6px 10px 16px;
    letter-spacing:.2px;
  }

  /* Buttons: cute, not plain */
  .btnStage{
    position:relative;
    height: 92px;
    margin-top: 6px;
  }

  button{
    appearance:none;
    border:0;
    font:inherit;
    font-weight:900;
    letter-spacing:.2px;
    padding: 14px 22px;
    border-radius: 18px;
    box-shadow: var(--btnShadow);
    user-select:none;
    touch-action: manipulation;
    transition: transform .12s ease, filter .12s ease;
  }
  button:active{ transform: scale(.98); }

  #yesBtn{
    position:absolute;
    left: 16px;
    bottom: 8px;
    min-width: 144px;
    background: linear-gradient(180deg, var(--yes1), var(--yes2));
    color:white;
    border: 1px solid rgba(255,255,255,.55);
  }

  #noBtn{
    position:absolute;
    right: 16px;
    top: 8px;
    min-width: 144px;
    background: linear-gradient(180deg, var(--no1), var(--no2));
    color:#7a3a59;
    border: 1px solid rgba(232,143,180,.45);
  }

  .subhint{
    margin: 8px 0 0;
    font-size: 12px;
    opacity: .62;
  }

  /* Celebration overlay */
  .overlay{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    background: radial-gradient(1200px 900px at 50% 30%, rgba(255,255,255,.66), rgba(255,214,230,.88));
    backdrop-filter: blur(7px);
    z-index: 30;
    padding: 16px;
  }
  .overlay.show{ display:flex; }

  .celebrate{
    width: min(560px, 94vw);
    aspect-ratio: 1 / 1;
    position:relative;
    border-radius: 34px;
    overflow:hidden;
    box-shadow: 0 24px 75px rgba(110,45,75,.22);
    border: 1px solid rgba(255,255,255,.75);
    background: linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.48));
  }
  .closeTap{
    position:absolute;
    top: 14px;
    right: 14px;
    z-index: 6;
    background: rgba(255,255,255,.82);
    border: 1px solid rgba(232,143,180,.35);
    padding: 10px 14px;
    border-radius: 999px;
    box-shadow: 0 12px 30px rgba(110,45,75,.14);
    font-weight: 900;
    font-size: 14px;
  }

  /* Mini hearts: visible + centered, float + blink */
  .heartField{
    position:absolute;
    inset:0;
    pointer-events:none;
    overflow:hidden;
    z-index: 5; /* above the main SVG so they are visible */
  }
  .miniHeart{
    position:absolute;
    width: 16px;
    height: 16px;
    opacity:0;
    filter: drop-shadow(0 8px 14px rgba(110,45,75,.16));
    animation:
      heartDrift linear infinite,
      heartBlink ease-in-out infinite;
  }
  @keyframes heartDrift{
    0%{ transform: translate3d(0, 10px, 0) scale(.92) rotate(-8deg); opacity:0; }
    16%{ opacity:.9; }
    72%{ opacity:.82; }
    100%{ transform: translate3d(0, -120%, 0) scale(1.25) rotate(10deg); opacity:0; }
  }
  @keyframes heartBlink{
    0%,100%{ opacity: .75; }
    50%{ opacity: 1; }
  }

  .overlayNote{
    position:absolute;
    bottom: 14px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 13px;
    opacity: .78;
    z-index: 6;
    background: rgba(255,255,255,.58);
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid rgba(232,143,180,.25);
    white-space:nowrap;
  }

  .pop{
    animation: pop .22s ease-out;
  }
  @keyframes pop{
    0%{ transform: scale(.96); }
    100%{ transform: scale(1); }
  }
</style>
</head>

<body>
  <div class="sparkles" aria-hidden="true" id="sparkles"></div>

  <main class="wrap">
    <section class="card" aria-label="Valentine card">

      <!-- Plush bear (improved proportions + arms/legs more plush-physical) -->
      <div class="bearWrap">
        <svg viewBox="0 0 360 420" width="100%" role="img" aria-label="Cute plush bear with diaper">
          <defs>
            <linearGradient id="furMain" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#f6e7d8"/>
              <stop offset="1" stop-color="#e7cfb7"/>
            </linearGradient>
            <linearGradient id="furLight" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#fff2e6"/>
              <stop offset="1" stop-color="#f5dfcc"/>
            </linearGradient>
            <linearGradient id="diaper" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#ffffff"/>
              <stop offset="1" stop-color="#f3f4ff"/>
            </linearGradient>
            <linearGradient id="diaperBand" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#ffd6ea"/>
              <stop offset="1" stop-color="#cfe8ff"/>
            </linearGradient>
            <filter id="softShadow" x="-30%" y="-30%" width="160%" height="160%">
              <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="rgba(110,45,75,.15)"/>
            </filter>
          </defs>

          <!-- Ears -->
          <g filter="url(#softShadow)">
            <ellipse cx="115" cy="88" rx="44" ry="42" fill="url(#furMain)"/>
            <ellipse cx="245" cy="88" rx="44" ry="42" fill="url(#furMain)"/>
            <ellipse cx="115" cy="96" rx="25" ry="23" fill="#f7d9de" opacity=".55"/>
            <ellipse cx="245" cy="96" rx="25" ry="23" fill="#f7d9de" opacity=".55"/>
          </g>

          <!-- Head (slightly smaller relative to body than prior) -->
          <g filter="url(#softShadow)">
            <path d="M180 54
                     C248 54 302 105 306 172
                     C310 246 254 282 180 282
                     C106 282 50 246 54 172
                     C58 105 112 54 180 54Z"
                  fill="url(#furMain)"/>
            <ellipse cx="180" cy="186" rx="86" ry="74" fill="url(#furLight)" opacity=".98"/>
            <!-- Eyes -->
            <circle cx="147" cy="176" r="6.8" fill="#4b2b1f"/>
            <circle cx="213" cy="176" r="6.8" fill="#4b2b1f"/>
            <circle cx="145" cy="174" r="2.2" fill="#ffffff" opacity=".95"/>
            <circle cx="211" cy="174" r="2.2" fill="#ffffff" opacity=".95"/>
            <!-- Nose -->
            <path d="M180 190
                     C173 190 169 195 169 200
                     C169 206 175 210 180 210
                     C185 210 191 206 191 200
                     C191 195 187 190 180 190Z"
                  fill="#9b6a4a" opacity=".96"/>
            <!-- Mouth -->
            <path d="M170 221 C176 228 184 228 190 221"
                  fill="none" stroke="#7a4a3a" stroke-width="3.2" stroke-linecap="round"/>
            <!-- Blush -->
            <ellipse cx="124" cy="204" rx="14" ry="9.8" fill="#ffb3c8" opacity=".55"/>
            <ellipse cx="236" cy="204" rx="14" ry="9.8" fill="#ffb3c8" opacity=".55"/>
          </g>

          <!-- Body group -->
          <g filter="url(#softShadow)">
            <!-- Neck/shoulder buffer -->
            <ellipse cx="180" cy="282" rx="72" ry="26" fill="rgba(245,223,204,.75)"/>

            <!-- Arms: plush capsule shapes, droop downward, clear paw ends -->
            <path d="M86 292
                     C56 306 48 338 70 358
                     C86 372 108 370 124 354
                     C145 332 128 298 86 292Z"
                  fill="url(#furMain)"/>
            <ellipse cx="96" cy="356" rx="22" ry="18" fill="url(#furLight)" opacity=".72"/>

            <path d="M274 292
                     C304 306 312 338 290 358
                     C274 372 252 370 236 354
                     C215 332 232 298 274 292Z"
                  fill="url(#furMain)"/>
            <ellipse cx="264" cy="356" rx="22" ry="18" fill="url(#furLight)" opacity=".72"/>

            <!-- Torso (taller, less squished) -->
            <path d="M180 286
                     C245 286 284 326 284 380
                     C284 404 266 414 180 414
                     C94 414 76 404 76 380
                     C76 326 115 286 180 286Z"
                  fill="url(#furMain)"/>

            <!-- Belly patch -->
            <ellipse cx="180" cy="360" rx="74" ry="58" fill="url(#furLight)" opacity=".96"/>

            <!-- Legs/feet: clearly two chunky feet, separated, with soft pads -->
            <g opacity="1">
              <path d="M120 392
                       C92 392 76 404 78 420
                       C80 438 100 452 128 452
                       C154 452 162 438 160 424
                       C156 402 144 392 120 392Z"
                    fill="url(#furMain)"/>
              <ellipse cx="126" cy="436" rx="20" ry="14" fill="#f2d7cc" opacity=".85"/>

              <path d="M240 392
                       C268 392 284 404 282 420
                       C280 438 260 452 232 452
                       C206 452 198 438 200 424
                       C204 402 216 392 240 392Z"
                    fill="url(#furMain)"/>
              <ellipse cx="234" cy="436" rx="20" ry="14" fill="#f2d7cc" opacity=".85"/>
            </g>

            <!-- Diaper: slightly larger, sits on belly/hips, not squishing -->
            <path d="M118 356
                     C130 324 154 308 180 308
                     C206 308 230 324 242 356
                     C248 372 246 396 234 406
                     C218 418 196 424 180 424
                     C164 424 142 418 126 406
                     C114 396 112 372 118 356Z"
                  fill="url(#diaper)"/>

            <!-- waistband -->
            <path d="M126 340
                     C142 322 160 314 180 314
                     C200 314 218 322 234 340"
                  fill="none" stroke="url(#diaperBand)" stroke-width="8" stroke-linecap="round" opacity=".95"/>

            <!-- tapes -->
            <rect x="112" y="362" width="28" height="18" rx="9" fill="#ffd6ea" opacity=".85"/>
            <rect x="220" y="362" width="28" height="18" rx="9" fill="#cfe8ff" opacity=".85"/>

            <!-- tiny heart on diaper -->
            <path d="M180 374
                     C180 374 168 367 164 360
                     C160 353 165 344 174 344
                     C177 344 179 346 180 349
                     C181 346 183 344 186 344
                     C195 344 200 353 196 360
                     C192 367 180 374 180 374Z"
                  fill="#ff8fbf" opacity=".52"/>
          </g>
        </svg>
      </div>

      <p class="question">
        Chrissy, on 2/2 of 2026, 22:22, will you be my Valentine?
      </p>

      <div class="btnStage" id="btnStage" aria-label="Buttons">
        <button id="yesBtn" type="button">Yes</button>
        <button id="noBtn" type="button">No</button>
      </div>

      <div class="subhint" id="hint">The ‚ÄúNo‚Äù button is shy.</div>
    </section>
  </main>

  <!-- Celebration overlay -->
  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-label="Celebration">
    <div class="celebrate pop" id="celebrateBox">
      <button class="closeTap" id="closeBtn" type="button">Close</button>

      <!-- Hearts + arrow (cleaner arrow silhouette) -->
      <svg viewBox="0 0 900 900" width="100%" height="100%" aria-hidden="true" style="position:absolute; inset:0; z-index:3;">
        <defs>
          <linearGradient id="heartBack" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ff9bc8"/>
            <stop offset="1" stop-color="#ff6fae"/>
          </linearGradient>
          <linearGradient id="heartFront" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ffd1e6"/>
            <stop offset="1" stop-color="#ff9dc9"/>
          </linearGradient>
          <linearGradient id="arrowGrad" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#f2c2d6"/>
            <stop offset="1" stop-color="#e38ab7"/>
          </linearGradient>
          <filter id="softHeartShadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="16" stdDeviation="18" flood-color="rgba(110,45,75,.20)"/>
          </filter>
        </defs>

        <!-- Arrow behind hearts: tightened fletching + nicer head -->
        <g opacity=".96">
          <line x1="705" y1="205" x2="230" y2="680"
                stroke="url(#arrowGrad)" stroke-width="10" stroke-linecap="round"/>
          <!-- arrowhead: slimmer + more "cupid" -->
          <path d="M230 680
                   L266 662
                   L252 696 Z"
                fill="#e38ab7" opacity=".95"/>
          <!-- small highlight -->
          <path d="M246 688 L258 682" stroke="rgba(255,255,255,.45)" stroke-width="2.5" stroke-linecap="round" opacity=".7"/>

          <!-- fletching: closer + less awkward -->
          <path d="M705 205
                   C730 188 750 172 770 154"
                fill="none" stroke="rgba(242,194,214,.98)" stroke-width="8" stroke-linecap="round"/>
          <path d="M705 205
                   C725 222 746 242 770 260"
                fill="none" stroke="rgba(242,194,214,.98)" stroke-width="8" stroke-linecap="round"/>
        </g>

        <g filter="url(#softHeartShadow)">
          <path d="M450 735
                   C450 735, 165 560, 165 365
                   C165 245, 260 170, 360 200
                   C415 217, 450 265, 450 265
                   C450 265, 485 217, 540 200
                   C640 170, 735 245, 735 365
                   C735 560, 450 735, 450 735Z"
                fill="url(#heartBack)" opacity=".86"/>
          <path d="M490 705
                   C490 705, 250 560, 250 400
                   C250 305, 330 245, 415 270
                   C455 282, 490 320, 490 320
                   C490 320, 525 282, 565 270
                   C650 245, 730 305, 730 400
                   C730 560, 490 705, 490 705Z"
                fill="url(#heartFront)" opacity=".94"/>
        </g>
      </svg>

      <!-- Mini hearts ABOVE the SVG so they are visible -->
      <div class="heartField" id="heartField" aria-hidden="true"></div>

      <div class="overlayNote">Happy Valentine‚Äôs üíñ</div>
    </div>
  </div>

<script>
  // Sparkles background
  (function makeSparkles(){
    const host = document.getElementById('sparkles');
    const count = 32;
    for(let i=0;i<count;i++){
      const s = document.createElement('div');
      s.className = 'sparkle';
      const left = Math.random()*100;
      const delay = Math.random()*6;
      const dur = 7 + Math.random()*9;
      const size = 6 + Math.random()*10;
      s.style.left = left + 'vw';
      s.style.top = (80 + Math.random()*45) + 'vh';
      s.style.width = size + 'px';
      s.style.height = size + 'px';
      s.style.animationDuration = dur + 's';
      s.style.animationDelay = (-delay) + 's';
      host.appendChild(s);
    }
  })();

  // No button dodge (mischievous but possible)
  const stage = document.getElementById('btnStage');
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');
  const hint = document.getElementById('hint');

  let dodgeCount = 0;
  let allowCatch = false;

  function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

  function moveNo(px, py){
    const stageRect = stage.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();
    const pad = 8;

    const maxX = stageRect.width - btnRect.width - pad;
    const maxY = stageRect.height - btnRect.height - pad;

    const baseX = (px != null) ? (px - stageRect.left) : Math.random()*stageRect.width;
    const baseY = (py != null) ? (py - stageRect.top) : Math.random()*stageRect.height;

    const pushX = (Math.random()<0.5?-1:1) * (70 + Math.random()*90);
    const pushY = (Math.random()<0.5?-1:1) * (20 + Math.random()*28);

    let x = clamp(baseX + pushX - btnRect.width/2, pad, maxX);
    let y = clamp(baseY + pushY - btnRect.height/2, pad, maxY);

    noBtn.style.left = '0px';
    noBtn.style.top = '0px';
    noBtn.style.right = 'auto';
    noBtn.style.transform = `translate(${x}px, ${y}px)`;

    dodgeCount++;
    if(dodgeCount === 2) hint.textContent = "Hehe. It moves.";
    if(dodgeCount === 5) hint.textContent = "It is technically possible. Good luck.";
    if(dodgeCount > 9){
      allowCatch = true;
      hint.textContent = "Okay... it might let you click it now.";
    }
  }

  function shouldDodge(){
    if(!allowCatch) return true;
    return Math.random() < 0.55;
  }

  noBtn.addEventListener('pointerenter', (e)=>{
    if(e.pointerType === 'mouse' && shouldDodge()){
      moveNo(e.clientX, e.clientY);
    }
  });

  stage.addEventListener('pointermove', (e)=>{
    if(e.pointerType !== 'mouse'){
      const rect = noBtn.getBoundingClientRect();
      const dx = e.clientX - (rect.left + rect.width/2);
      const dy = e.clientY - (rect.top + rect.height/2);
      const dist = Math.hypot(dx, dy);
      if(dist < 95 && shouldDodge()){
        moveNo(e.clientX, e.clientY);
      }
    }
  }, {passive:true});

  noBtn.addEventListener('pointerdown', (e)=>{
    if(shouldDodge()){
      e.preventDefault();
      moveNo(e.clientX, e.clientY);
    }
  });

  noBtn.addEventListener('click', ()=>{
    hint.textContent = "You actually clicked it. Respect.";
  });

  // Mini hearts: visible and not too low
  const overlay = document.getElementById('overlay');
  const closeBtn = document.getElementById('closeBtn');
  const heartField = document.getElementById('heartField');

  function miniHeartSVG(color){
    return `
      <svg viewBox="0 0 24 24" width="100%" height="100%" aria-hidden="true">
        <path d="M12 21s-7.2-4.6-9.6-8.6C.7 9.2 2.3 5.7 5.7 5.1c2-.4 3.7.6 4.7 2
                 1-1.4 2.7-2.4 4.7-2 3.4.6 5 4.1 3.3 7.3C19.2 16.4 12 21 12 21Z"
              fill="${color}" opacity=".95"/>
        <circle cx="8.5" cy="8.6" r="1.2" fill="rgba(255,255,255,.85)"/>
      </svg>
    `;
  }

  function spawnMiniHearts(){
    heartField.innerHTML = '';
    const colors = [
      "rgba(255,120,180,.92)",
      "rgba(255,170,210,.92)",
      "rgba(255,205,230,.92)"
    ];
    const count = 24;

    for(let i=0;i<count;i++){
      const d = document.createElement('div');
      d.className = 'miniHeart';

      const size = 12 + Math.random()*18;
      d.style.width = size + 'px';
      d.style.height = size + 'px';

      // start higher (not too low)
      d.style.left = (8 + Math.random()*84) + '%';
      d.style.bottom = (20 + Math.random()*90) + 'px';

      const driftDur = 3.8 + Math.random()*3.0;
      const driftDelay = Math.random()*2.0;
      const blinkDur = 1.2 + Math.random()*1.6;

      d.style.animationDuration = `${driftDur}s, ${blinkDur}s`;
      d.style.animationDelay = `${driftDelay}s, ${Math.random()*1.0}s`;

      d.innerHTML = miniHeartSVG(colors[i % colors.length]);
      heartField.appendChild(d);
    }
  }

  function openOverlay(){
    overlay.classList.add('show');
    spawnMiniHearts();
  }
  function closeOverlay(){
    overlay.classList.remove('show');
  }

  yesBtn.addEventListener('click', openOverlay);
  closeBtn.addEventListener('click', closeOverlay);
  overlay.addEventListener('click', (e)=>{
    if(e.target === overlay) closeOverlay();
  });
</script>
</body>
</html>
