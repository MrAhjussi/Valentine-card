<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Valentine</title>
<style>
  :root{
    --bg1:#fff0f6;
    --bg2:#ffe3ee;
    --card:#ffffffcc;
    --text:#6b3a52;
    --stroke:rgba(143,71,100,.22);
    --shadow:0 18px 55px rgba(110,45,75,.18);
    --btnShadow:0 12px 30px rgba(110,45,75,.18);
    --yes1:#ffb3d3;
    --yes2:#ff7fb5;
    --no1:#ffffff;
    --no2:#ffe0ee;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color:var(--text);
    background: radial-gradient(1200px 760px at 15% 8%, var(--bg1), var(--bg2)) fixed;
    overflow:hidden;
    -webkit-tap-highlight-color: transparent;
  }

  /* Sparkles */
  .sparkles{
    position:fixed;
    inset:0;
    pointer-events:none;
    overflow:hidden;
    opacity:.75;
    z-index:0;
  }
  .sparkle{
    position:absolute;
    width:10px;height:10px;
    opacity:0;
    filter: blur(.2px);
    animation: sparkleFloat linear infinite;
  }
  .sparkle::before{
    content:"";
    position:absolute; inset:0;
    background: radial-gradient(circle at 35% 35%, rgba(255,255,255,.95), rgba(255,255,255,0) 70%);
    border-radius:50%;
  }
  .sparkle::after{
    content:"";
    position:absolute; inset:-4px;
    background: conic-gradient(from 0deg, rgba(255,255,255,0) 0 40%, rgba(255,255,255,.85) 50%, rgba(255,255,255,0) 60% 100%);
    opacity:.55;
    mask: radial-gradient(circle, #000 45%, transparent 72%);
    border-radius:50%;
  }
  @keyframes sparkleFloat{
    0%{ transform: translate3d(0, 40px, 0) scale(.7); opacity:0; }
    18%{ opacity:.65; }
    75%{ opacity:.55; }
    100%{ transform: translate3d(0, -120vh, 0) scale(1.18); opacity:0; }
  }

  /* Layout */
  .wrap{
    position:relative;
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 22px 16px calc(18px + env(safe-area-inset-bottom));
    z-index:1;
  }

  .card{
    width:min(430px, 92vw);
    background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.72));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,.7);
    border-radius: 28px;
    box-shadow: var(--shadow);
    padding: 22px 18px 18px;
    text-align:center;
    position:relative;
    overflow:hidden;
  }

  .bearWrap{
    width: 240px;
    max-width: 62vw;
    margin: 2px auto 10px;
  }
  .question{
    font-size:18px;
    line-height:1.35;
    margin: 6px 10px 16px;
    letter-spacing:.2px;
  }

  /* Buttons: less plain composition */
  .btnStage{
    position:relative;
    height: 90px;
    margin-top: 6px;
  }

  button{
    appearance:none;
    border:0;
    font:inherit;
    font-weight:800;
    letter-spacing:.2px;
    padding: 14px 22px;
    border-radius: 18px;
    box-shadow: var(--btnShadow);
    user-select:none;
    touch-action: manipulation;
    transition: transform .12s ease, filter .12s ease;
  }
  button:active{ transform: scale(.98); }

  #yesBtn{
    position:absolute;
    left: 18px;
    bottom: 8px;
    min-width: 138px;
    background: linear-gradient(180deg, var(--yes1), var(--yes2));
    color:white;
    border: 1px solid rgba(255,255,255,.55);
  }
  #yesBtn:hover{ filter: brightness(1.03); }

  #noBtn{
    position:absolute;
    right: 18px;
    top: 8px;
    min-width: 138px;
    background: linear-gradient(180deg, var(--no1), var(--no2));
    color:#7a3a59;
    border: 1px solid rgba(232,143,180,.45);
  }

  .subhint{
    margin: 8px 0 0;
    font-size: 12px;
    opacity: .62;
  }

  /* Celebration overlay */
  .overlay{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    background: radial-gradient(1200px 900px at 50% 30%, rgba(255,255,255,.66), rgba(255,214,230,.88));
    backdrop-filter: blur(7px);
    z-index: 30;
    padding: 16px;
  }
  .overlay.show{ display:flex; }

  .celebrate{
    width: min(560px, 94vw);
    aspect-ratio: 1 / 1;
    position:relative;
    border-radius: 34px;
    overflow:hidden;
    box-shadow: 0 24px 75px rgba(110,45,75,.22);
    border: 1px solid rgba(255,255,255,.75);
    background: linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.48));
  }
  .closeTap{
    position:absolute;
    top: 14px;
    right: 14px;
    z-index: 5;
    background: rgba(255,255,255,.82);
    border: 1px solid rgba(232,143,180,.35);
    padding: 10px 14px;
    border-radius: 999px;
    box-shadow: 0 12px 30px rgba(110,45,75,.14);
    font-weight: 900;
    font-size: 14px;
  }

  /* Floating + blinking hearts around main hearts */
  .heartField{
    position:absolute;
    inset:0;
    pointer-events:none;
    overflow:hidden;
    z-index: 4;
  }
  .miniHeart{
    position:absolute;
    width: 16px;
    height: 16px;
    opacity:0;
    filter: drop-shadow(0 7px 12px rgba(110,45,75,.16));
    animation:
      heartDrift linear infinite,
      heartBlink ease-in-out infinite;
  }
  @keyframes heartDrift{
    0%{ transform: translate3d(0, 18px, 0) scale(.86) rotate(-8deg); opacity:0; }
    16%{ opacity:.85; }
    70%{ opacity:.78; }
    100%{ transform: translate3d(0, -120%, 0) scale(1.22) rotate(10deg); opacity:0; }
  }
  @keyframes heartBlink{
    0%,100%{ filter: drop-shadow(0 7px 12px rgba(110,45,75,.14)); }
    50%{ filter: drop-shadow(0 9px 16px rgba(110,45,75,.22)) brightness(1.06); }
  }

  .overlayNote{
    position:absolute;
    bottom: 14px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 13px;
    opacity: .78;
    z-index: 5;
    background: rgba(255,255,255,.58);
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid rgba(232,143,180,.25);
    white-space:nowrap;
  }

  .pop{
    animation: pop .22s ease-out;
  }
  @keyframes pop{
    0%{ transform: scale(.96); }
    100%{ transform: scale(1); }
  }
</style>
</head>

<body>
  <div class="sparkles" aria-hidden="true" id="sparkles"></div>

  <main class="wrap">
    <section class="card" aria-label="Valentine card">

      <!-- Plush bear with body + diaper (cute, soft, blind-box plush vibe) -->
      <div class="bearWrap">
        <svg viewBox="0 0 340 360" width="100%" role="img" aria-label="Cute plush bear with diaper">
          <defs>
            <linearGradient id="furMain" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#f6e7d8"/>
              <stop offset="1" stop-color="#e7cfb7"/>
            </linearGradient>
            <linearGradient id="furLight" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#fff2e6"/>
              <stop offset="1" stop-color="#f5dfcc"/>
            </linearGradient>
            <linearGradient id="diaper" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#ffffff"/>
              <stop offset="1" stop-color="#f3f4ff"/>
            </linearGradient>
            <linearGradient id="diaperBand" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#ffd6ea"/>
              <stop offset="1" stop-color="#cfe8ff"/>
            </linearGradient>
            <filter id="softShadow" x="-30%" y="-30%" width="160%" height="160%">
              <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="rgba(110,45,75,.15)"/>
            </filter>
          </defs>

          <!-- Ears -->
          <g filter="url(#softShadow)">
            <ellipse cx="104" cy="74" rx="42" ry="40" fill="url(#furMain)"/>
            <ellipse cx="236" cy="74" rx="42" ry="40" fill="url(#furMain)"/>
            <ellipse cx="104" cy="82" rx="24" ry="22" fill="#f7d9de" opacity=".55"/>
            <ellipse cx="236" cy="82" rx="24" ry="22" fill="#f7d9de" opacity=".55"/>
          </g>

          <!-- Head -->
          <g filter="url(#softShadow)">
            <path d="M170 40
                     C235 40 288 88 292 156
                     C296 226 244 258 170 258
                     C96 258 44 226 48 156
                     C52 88 105 40 170 40Z"
                  fill="url(#furMain)"/>
            <!-- Face patch -->
            <ellipse cx="170" cy="170" rx="84" ry="72" fill="url(#furLight)" opacity=".98"/>
            <!-- Eyes -->
            <circle cx="138" cy="162" r="6.7" fill="#4b2b1f"/>
            <circle cx="202" cy="162" r="6.7" fill="#4b2b1f"/>
            <circle cx="136" cy="160" r="2.1" fill="#ffffff" opacity=".95"/>
            <circle cx="200" cy="160" r="2.1" fill="#ffffff" opacity=".95"/>
            <!-- Nose -->
            <path d="M170 176
                     C163 176 159 181 159 186
                     C159 192 165 196 170 196
                     C175 196 181 192 181 186
                     C181 181 177 176 170 176Z"
                  fill="#9b6a4a" opacity=".96"/>
            <!-- Mouth (tiny, soft) -->
            <path d="M160 206 C167 213 173 213 180 206"
                  fill="none" stroke="#7a4a3a" stroke-width="3.2" stroke-linecap="round"/>
            <!-- Blush -->
            <ellipse cx="114" cy="190" rx="14" ry="9.5" fill="#ffb3c8" opacity=".55"/>
            <ellipse cx="226" cy="190" rx="14" ry="9.5" fill="#ffb3c8" opacity=".55"/>
          </g>

          <!-- Body (plush) -->
          <g filter="url(#softShadow)">
            <!-- Arms -->
            <path d="M78 248
                     C52 262 46 290 64 308
                     C78 322 104 318 112 302
                     C122 282 108 254 78 248Z"
                  fill="url(#furMain)"/>
            <path d="M262 248
                     C288 262 294 290 276 308
                     C262 322 236 318 228 302
                     C218 282 232 254 262 248Z"
                  fill="url(#furMain)"/>

            <!-- Torso -->
            <path d="M170 250
                     C228 250 262 286 262 334
                     C262 354 246 362 170 362
                     C94 362 78 354 78 334
                     C78 286 112 250 170 250Z"
                  fill="url(#furMain)"/>

            <!-- Belly patch -->
            <ellipse cx="170" cy="310" rx="70" ry="56" fill="url(#furLight)" opacity=".96"/>

            <!-- Diaper -->
            <path d="M112 318
                     C122 292 146 278 170 278
                     C194 278 218 292 228 318
                     C232 330 230 348 220 356
                     C206 366 186 370 170 370
                     C154 370 134 366 120 356
                     C110 348 108 330 112 318Z"
                  fill="url(#diaper)"/>
            <!-- Diaper waistband -->
            <path d="M118 304
                     C132 288 150 280 170 280
                     C190 280 208 288 222 304"
                  fill="none" stroke="url(#diaperBand)" stroke-width="8" stroke-linecap="round" opacity=".95"/>

            <!-- Diaper tapes -->
            <rect x="108" y="322" width="26" height="16" rx="8" fill="#ffd6ea" opacity=".85"/>
            <rect x="206" y="322" width="26" height="16" rx="8" fill="#cfe8ff" opacity=".85"/>

            <!-- Tiny heart detail on diaper -->
            <path d="M170 330
                     C170 330 160 324 156 318
                     C152 312 156 304 164 304
                     C167 304 169 306 170 308
                     C171 306 173 304 176 304
                     C184 304 188 312 184 318
                     C180 324 170 330 170 330Z"
                  fill="#ff8fbf" opacity=".55"/>
          </g>
        </svg>
      </div>

      <p class="question">
        Chrissy, on 2/2 of 2026, 22:22, will you be my Valentine?
      </p>

      <div class="btnStage" id="btnStage" aria-label="Buttons">
        <button id="yesBtn" type="button">Yes</button>
        <button id="noBtn" type="button">No</button>
      </div>

      <div class="subhint" id="hint">The ‚ÄúNo‚Äù button is shy.</div>
    </section>
  </main>

  <!-- Celebration overlay -->
  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-label="Celebration">
    <div class="celebrate pop" id="celebrateBox">
      <button class="closeTap" id="closeBtn" type="button">Close</button>

      <!-- Hearts + fixed arrow (arrow is one cohesive shape, behind hearts) -->
      <svg viewBox="0 0 900 900" width="100%" height="100%" aria-hidden="true">
        <defs>
          <linearGradient id="heartBack" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ff9bc8"/>
            <stop offset="1" stop-color="#ff6fae"/>
          </linearGradient>
          <linearGradient id="heartFront" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ffd1e6"/>
            <stop offset="1" stop-color="#ff9dc9"/>
          </linearGradient>
          <linearGradient id="arrowGrad" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#f1c3d8"/>
            <stop offset="1" stop-color="#e38ab7"/>
          </linearGradient>
          <filter id="softHeartShadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="16" stdDeviation="18" flood-color="rgba(110,45,75,.20)"/>
          </filter>
        </defs>

        <!-- ARROW (single cohesive group, behind hearts) -->
        <g opacity=".96">
          <!-- shaft -->
          <line x1="690" y1="210" x2="235" y2="665"
                stroke="url(#arrowGrad)" stroke-width="10" stroke-linecap="round"/>
          <!-- arrowhead (bottom-left, proportional) -->
          <path d="M235 665
                   L266 652
                   L254 684 Z"
                fill="#e38ab7" opacity=".95"/>
          <!-- tiny notch detail to make it feel crafted -->
          <path d="M250 675 L258 672" stroke="rgba(255,255,255,.45)" stroke-width="2.5" stroke-linecap="round" opacity=".75"/>

          <!-- fletching (tail, subtle, symmetric-ish) -->
          <path d="M690 210
                   C718 195 742 176 766 154"
                fill="none" stroke="rgba(241,195,216,.95)" stroke-width="8" stroke-linecap="round"/>
          <path d="M690 210
                   C710 230 735 252 764 274"
                fill="none" stroke="rgba(241,195,216,.95)" stroke-width="8" stroke-linecap="round"/>
        </g>

        <!-- HEARTS (above arrow) -->
        <g filter="url(#softHeartShadow)">
          <!-- Back heart (bigger) -->
          <path d="M450 735
                   C450 735, 165 560, 165 365
                   C165 245, 260 170, 360 200
                   C415 217, 450 265, 450 265
                   C450 265, 485 217, 540 200
                   C640 170, 735 245, 735 365
                   C735 560, 450 735, 450 735Z"
                fill="url(#heartBack)" opacity=".86"/>
          <!-- Front heart (smaller) -->
          <path d="M490 705
                   C490 705, 250 560, 250 400
                   C250 305, 330 245, 415 270
                   C455 282, 490 320, 490 320
                   C490 320, 525 282, 565 270
                   C650 245, 730 305, 730 400
                   C730 560, 490 705, 490 705Z"
                fill="url(#heartFront)" opacity=".94"/>
        </g>
      </svg>

      <!-- floating + blinking mini hearts -->
      <div class="heartField" id="heartField" aria-hidden="true"></div>

      <div class="overlayNote">Happy Valentine‚Äôs üíñ</div>
    </div>
  </div>

<script>
  // Sparkles background
  (function makeSparkles(){
    const host = document.getElementById('sparkles');
    const count = 30;
    for(let i=0;i<count;i++){
      const s = document.createElement('div');
      s.className = 'sparkle';
      const left = Math.random()*100;
      const delay = Math.random()*6;
      const dur = 7 + Math.random()*9;
      const size = 6 + Math.random()*10;
      s.style.left = left + 'vw';
      s.style.top = (80 + Math.random()*45) + 'vh';
      s.style.width = size + 'px';
      s.style.height = size + 'px';
      s.style.animationDuration = dur + 's';
      s.style.animationDelay = (-delay) + 's';
      host.appendChild(s);
    }
  })();

  // No button dodge (mischievous but possible)
  const stage = document.getElementById('btnStage');
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');
  const hint = document.getElementById('hint');

  let dodgeCount = 0;
  let allowCatch = false;

  function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

  function moveNo(px, py){
    const stageRect = stage.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();
    const pad = 8;

    const maxX = stageRect.width - btnRect.width - pad;
    const maxY = stageRect.height - btnRect.height - pad;

    const baseX = (px != null) ? (px - stageRect.left) : Math.random()*stageRect.width;
    const baseY = (py != null) ? (py - stageRect.top) : Math.random()*stageRect.height;

    const pushX = (Math.random()<0.5?-1:1) * (70 + Math.random()*90);
    const pushY = (Math.random()<0.5?-1:1) * (22 + Math.random()*30);

    let x = clamp(baseX + pushX - btnRect.width/2, pad, maxX);
    let y = clamp(baseY + pushY - btnRect.height/2, pad, maxY);

    // switch to absolute translate inside stage
    noBtn.style.left = '0px';
    noBtn.style.top = '0px';
    noBtn.style.right = 'auto';
    noBtn.style.transform = `translate(${x}px, ${y}px)`;

    dodgeCount++;
    if(dodgeCount === 2) hint.textContent = "Hehe. It moves.";
    if(dodgeCount === 5) hint.textContent = "It is technically possible. Good luck.";
    if(dodgeCount > 9){
      allowCatch = true;
      hint.textContent = "Okay... it might let you click it now.";
    }
  }

  function shouldDodge(){
    if(!allowCatch) return true;
    return Math.random() < 0.55;
  }

  noBtn.addEventListener('pointerenter', (e)=>{
    if(e.pointerType === 'mouse' && shouldDodge()){
      moveNo(e.clientX, e.clientY);
    }
  });

  stage.addEventListener('pointermove', (e)=>{
    if(e.pointerType !== 'mouse'){
      const rect = noBtn.getBoundingClientRect();
      const dx = e.clientX - (rect.left + rect.width/2);
      const dy = e.clientY - (rect.top + rect.height/2);
      const dist = Math.hypot(dx, dy);
      if(dist < 95 && shouldDodge()){
        moveNo(e.clientX, e.clientY);
      }
    }
  }, {passive:true});

  noBtn.addEventListener('pointerdown', (e)=>{
    if(shouldDodge()){
      e.preventDefault();
      moveNo(e.clientX, e.clientY);
    }
  });

  noBtn.addEventListener('click', ()=>{
    hint.textContent = "You actually clicked it. Respect.";
  });

  // Overlay hearts (float + blink)
  const overlay = document.getElementById('overlay');
  const closeBtn = document.getElementById('closeBtn');
  const heartField = document.getElementById('heartField');

  function miniHeartSVG(color){
    return `
      <svg viewBox="0 0 24 24" width="100%" height="100%" aria-hidden="true">
        <path d="M12 21s-7.2-4.6-9.6-8.6C.7 9.2 2.3 5.7 5.7 5.1c2-.4 3.7.6 4.7 2
                 1-1.4 2.7-2.4 4.7-2 3.4.6 5 4.1 3.3 7.3C19.2 16.4 12 21 12 21Z"
              fill="${color}" opacity=".92"/>
        <path d="M12 21s-7.2-4.6-9.6-8.6C.7 9.2 2.3 5.7 5.7 5.1c2-.4 3.7.6 4.7 2
                 1-1.4 2.7-2.4 4.7-2 3.4.6 5 4.1 3.3 7.3C19.2 16.4 12 21 12 21Z"
              stroke="rgba(232,143,180,.62)" stroke-width="1.2"/>
        <circle cx="8.5" cy="8.6" r="1.2" fill="rgba(255,255,255,.85)"/>
      </svg>
    `;
  }

  function spawnMiniHearts(){
    heartField.innerHTML = '';
    const colors = [
      "rgba(255,120,180,.92)",
      "rgba(255,170,210,.92)",
      "rgba(255,205,230,.92)"
    ];
    const count = 22; // multiple
    for(let i=0;i<count;i++){
      const d = document.createElement('div');
      d.className = 'miniHeart';

      const size = 12 + Math.random()*18;
      d.style.width = size + 'px';
      d.style.height = size + 'px';

      d.style.left = (6 + Math.random()*88) + '%';
      d.style.bottom = (-18 - Math.random()*30) + 'px';

      const driftDur = 3.6 + Math.random()*3.2;
      const driftDelay = Math.random()*2.2;
      d.style.animationDuration = `${driftDur}s, ${1.2 + Math.random()*1.6}s`;
      d.style.animationDelay = `${driftDelay}s, ${Math.random()*1.0}s`;

      d.innerHTML = miniHeartSVG(colors[i % colors.length]);
      heartField.appendChild(d);
    }
  }

  function openOverlay(){
    overlay.classList.add('show');
    spawnMiniHearts();
  }
  function closeOverlay(){
    overlay.classList.remove('show');
  }

  yesBtn.addEventListener('click', openOverlay);
  closeBtn.addEventListener('click', closeOverlay);
  overlay.addEventListener('click', (e)=>{
    if(e.target === overlay) closeOverlay();
  });
</script>
</body>
</html>
